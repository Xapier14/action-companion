<ion-content mode="md">
  <div class="document-title">Rapid Damage Assessment Form</div>
  <div *ngIf="reportData else loading" class="report-parent">
    <ion-refresher slot="fixed" (ionRefresh)="refreshData($event)">
      <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
    <!-- INSPECTION -->
    <div class="section-container">
      <div class="section-title">Inspection</div>
      <div class="section-item">
        <span class="section-label">Inspector:</span>
        <span class="section-data">{{reportData.inspector}}</span>
      </div>
      <div class="section-item">
        <span class="section-label">Agency/Campus:</span>
        <span class="section-data">{{reportData.location}}</span>
      </div>
      <div class="section-item">
        <span class="section-label">Building Inspected:</span>
        <span class="section-data">{{reportData.building}}</span>
      </div>
      <div class="section-item-v">
        <span class="section-label">Areas Inspected:</span>
        <ion-radio-group
          class="section-data radio-group"
          value="{{reportData.areasInspected}}"
        >
          <span
            ><ion-radio disabled value="exterior"></ion-radio> Exterior
            Only</span
          >
          <span
            ><ion-radio disabled value="exterior&interior"></ion-radio> Exterior
            & Interior</span
          >
        </ion-radio-group>
      </div>
    </div>
    <!-- EVALUATION -->
    <div class="section-container">
      <div class="section-title">Evaluation</div>
      <div class="section-subtitle">
        Investigate the building and area around it for the conditions below and
        check the appropriate column.
      </div>
      <div class="section-item-v">
        <div class="section-label-container">
          <span class="section-label">Observed Conditions:</span>
          <div class="section-rg-label">
            <span>1</span>
            <span>2</span>
            <span>3</span>
          </div>
        </div>
        <!-- Collapsed Structure -->
        <div class="section-data-v">
          <div class="section-data-item">
            <span>Collapsed Structure</span>
            <ion-radio-group
              class="radio-group"
              value="{{reportData.collapsedStructure}}"
            >
              <ion-radio disabled value="0"></ion-radio>
              <ion-radio disabled value="1"></ion-radio>
              <ion-radio disabled value="2"></ion-radio>
            </ion-radio-group>
          </div>
        </div>
        <!-- Building/Story Leaning or Out of Plumb -->
        <div class="section-data-v">
          <div class="section-data-item">
            <span>Building/Story Leaning or Out of Plumb</span>
            <ion-radio-group
              class="radio-group"
              value="{{reportData.leaningOrOutOfPlumb}}"
            >
              <ion-radio disabled value="0"></ion-radio>
              <ion-radio disabled value="1"></ion-radio>
              <ion-radio disabled value="2"></ion-radio>
            </ion-radio-group>
          </div>
        </div>
        <!-- Damage to Primary Structural Members, Racking of Walls -->
        <div class="section-data-v">
          <div class="section-data-item">
            <span>Damage to Primary Structural Members, Racking of Walls</span>
            <ion-radio-group
              class="radio-group"
              value="{{reportData.damageToPrimaryStructure}}"
            >
              <ion-radio disabled value="0"></ion-radio>
              <ion-radio disabled value="1"></ion-radio>
              <ion-radio disabled value="2"></ion-radio>
            </ion-radio-group>
          </div>
        </div>
        <!-- Falling Hazards -->
        <div class="section-data-v">
          <div class="section-data-item">
            <span>Falling Hazards</span>
            <ion-radio-group
              class="radio-group"
              value="{{reportData.fallingHazards}}"
            >
              <ion-radio disabled value="0"></ion-radio>
              <ion-radio disabled value="1"></ion-radio>
              <ion-radio disabled value="2"></ion-radio>
            </ion-radio-group>
          </div>
        </div>
        <!-- Ground Movement or Slope -->
        <div class="section-data-v">
          <div class="section-data-item">
            <span>Ground Movement or Slope</span>
            <ion-radio-group
              class="radio-group"
              value="{{reportData.groundMovementOrSlope}}"
            >
              <ion-radio disabled value="0"></ion-radio>
              <ion-radio disabled value="1"></ion-radio>
              <ion-radio disabled value="2"></ion-radio>
            </ion-radio-group>
          </div>
        </div>
        <!-- Damaged/Submerged Fixtures or Services -->
        <div class="section-data-v">
          <div class="section-data-item">
            <span>Damaged/Submerged Fixtures or Services</span>
            <ion-radio-group
              class="radio-group"
              value="{{reportData.damagedSubmergedFixtures}}"
            >
              <ion-radio disabled value="0"></ion-radio>
              <ion-radio disabled value="1"></ion-radio>
              <ion-radio disabled value="2"></ion-radio>
            </ion-radio-group>
          </div>
        </div>
        <!-- Proximity Risks -->
        <div class="section-data-v">
          <div class="section-data-item">
            <span>Proximity Risks</span>
            <ion-radio-group
              class="radio-group"
              value="{{reportData.proximityRisk}}"
            >
              <ion-radio disabled value="0"></ion-radio>
              <ion-radio disabled value="1"></ion-radio>
              <ion-radio disabled value="2"></ion-radio>
            </ion-radio-group>
          </div>
          <div class="section-data-item-v">
            <span>Proximity Risk Details: </span>
            <span style="width: 95%">{{reportData.proximityRiskTitle}}</span>
          </div>
        </div>
        <!-- Section info helper -->
        <span class="section-info"
          >1 = Minor/None; 2 = Major; 3 = Critical</span
        >
        <!-- Estimated Damage -->
        <div class="section-item">
          <span class="section-label">Estimated Damage:</span>
          <span class="section-data">{{reportData.buildingDamageString}}</span>
        </div>
        <!-- Comments -->
        <div class="section-item-v">
          <span class="section-label">Comments:</span>
          <span class="section-data block-style"
            >{{reportData.evaluationComment}}</span
          >
        </div>
      </div>
    </div>
    <!-- POSTING -->
    <div class="section-container">
      <div class="section-title">Posting</div>
      <div class="section-subtitle">
        Severe conditions endangering the overall building are grounds for an
        Unsafe posting. Localised service and overall Moderate conditions allow
        a Restricted Use posting. Where required, ensure that RESTRICTED USE and
        UNSAFE placards are posted at all entrances.
      </div>
      <!-- Placards -->
      <div class="section-item-v">
        <span class="section-label">Placards:</span>
        <div class="section-data checkbox-group">
          <div>
            <ion-checkbox
              disabled
              checked="{{reportData.inspectedPlacard}}"
            ></ion-checkbox>
            <span>Inspected</span>
          </div>
          <div>
            <ion-checkbox
              disabled
              checked="{{reportData.restrictedPlacard}}"
            ></ion-checkbox>
            <span>Restricted Use</span>
          </div>
          <div>
            <ion-checkbox
              disabled
              checked="{{reportData.unsafePlacard}}"
            ></ion-checkbox>
            <span>Unsafe</span>
          </div>
        </div>
      </div>
      <div class="section-item-v">
        <span class="section-label section-item">Observed Conditions:</span>
        <div class="section-item-v">
          <div class="section-label">
            <ion-checkbox
              disabled
              checked="{{reportData.doNotEnter != ''}}"
            ></ion-checkbox>
            <span>Do not use or enter the following areas:</span>
          </div>
          <span class="section-data block-style"
            >{{reportData.doNotEnter}}</span
          >
        </div>
        <div class="section-item-v">
          <div class="section-label">
            <ion-checkbox
              disabled
              checked="{{reportData.briefEntryAllowed != ''}}"
            ></ion-checkbox>
            <span>Brief entry allowed for access to contents:</span>
          </div>
          <span class="section-data block-style"
            >{{reportData.briefEntryAllowed}}</span
          >
        </div>
        <div class="section-item-v">
          <div class="section-label">
            <ion-checkbox
              disabled
              checked="{{reportData.doNotUse != ''}}"
            ></ion-checkbox>
            <span
              >Do not use flooded/damaged appliances, devices or services
              (electric, gas) until rectified by a licensed contractor</span
            >
          </div>
        </div>
        <div class="section-item-v">
          <div class="section-label">
            <span>Other restrictions:</span>
          </div>
          <span class="section-data block-style"
            >{{reportData.otherRestrictions}}</span
          >
        </div>
      </div>
    </div>
    <!-- FURTHER ACTIONS -->
    <div class="section-container">
      <div class="section-title">Further Actions</div>
      <div class="section-subtitle">
        Check the boxes below ONLY if further actions are needed.
      </div>
      <div class="section-item-v">
        <div class="section-label">
          <ion-checkbox
            disabled
            checked="{{reportData.barricadeComment != ''}}"
          ></ion-checkbox>
          <span>Barricades needed in the following areas:</span>
        </div>
        <span class="section-data block-style"
          >{{reportData.barricadeComment}}</span
        >
      </div>
      <div class="section-item-v">
        <div class="section-label">
          <ion-checkbox
            disabled
            checked="{{reportData.detailedEvaluationAreas.length > 0}}"
          ></ion-checkbox>
          <span>Detailed evaluation recommended:</span>
        </div>
        <div class="section-data checkbox-group block-style">
          <div>
            <ion-checkbox
              disabled
              checked="{{reportData.detailedEvaluationAreas.includes('1')}}"
            ></ion-checkbox>
            <span>Structural</span>
          </div>
          <div>
            <ion-checkbox
              disabled
              checked="{{reportData.detailedEvaluationAreas.includes('2')}}"
            ></ion-checkbox>
            <span>Geotechnical</span>
          </div>
          <div>
            <ion-checkbox
              disabled
              checked="{{reportData.detailedEvaluationAreas.includes('3')}}"
            ></ion-checkbox>
            <span>Other</span>
          </div>
        </div>
      </div>
      <div class="section-item-v">
        <div class="section-label">
          <ion-checkbox
            disabled
            checked="{{reportData.otherRecommendations != ''}}"
          ></ion-checkbox>
          <span>Other recommendations:</span>
        </div>
        <span class="section-data block-style"
          >{{reportData.otherRecommendations}}</span
        >
      </div>
      <div class="section-item-v">
        <div class="section-label">
          <span>Comments:</span>
        </div>
        <span class="section-data block-style"
          >{{reportData.furtherComments}}</span
        >
      </div>
    </div>
    <!-- ATTACHMENTS -->
    <div class="section-container">
      <div class="section-title">Attachments</div>
      <div class="section-subtitle">
        Viewing attachments may incur mobile data charges.
      </div>
      <div class="section-item-v">
        <div *ngIf="reportData.attachments.length == 0" class="block-style">
          No attachments found.
        </div>
      </div>
    </div>
  </div>
  <ng-template #loading>
    <div class="section-container">
      <ion-skeleton-text
        animated
        style="width: 60%; height: 1.25rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 80%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 70%; height: 1rem"
      ></ion-skeleton-text>
    </div>
    <div class="section-container">
      <ion-skeleton-text
        animated
        style="width: 80%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 80%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 80%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 80%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 80%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 80%; height: 1rem"
      ></ion-skeleton-text>
    </div>
    <div class="section-container">
      <ion-skeleton-text
        animated
        style="width: 70%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 70%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 70%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 70%; height: 1rem"
      ></ion-skeleton-text>
    </div>
    <div class="section-container">
      <ion-skeleton-text
        animated
        style="width: 70%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 70%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 70%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 70%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 70%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 70%; height: 1rem"
      ></ion-skeleton-text>
    </div>
    <div class="section-container">
      <ion-skeleton-text
        animated
        style="width: 90%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 90%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 90%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 90%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 90%; height: 1rem"
      ></ion-skeleton-text>
    </div>
    <div class="section-container">
      <ion-skeleton-text
        animated
        style="width: 70%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 70%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 70%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 70%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 70%; height: 1rem"
      ></ion-skeleton-text>
      <ion-skeleton-text
        animated
        style="width: 70%; height: 1rem"
      ></ion-skeleton-text>
    </div>
  </ng-template>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-buttons slot="start" id="go-back">
      <ion-button (click)="goBack()">
        <ion-icon slot="icon-only" name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
